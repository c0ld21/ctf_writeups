#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <fcntl.h>

int global_fd;

void open_dev() {
    global_fd = open("/lib/modules/5.15.0/extra/bloat.ko", O_RDWR);
    if (global_fd < 0) {
        puts("[!] Failed to open device");
        exit(-1);
    }
    puts("[+] Opened device");
}

int main() {
    open_dev();
    return 0;
}
